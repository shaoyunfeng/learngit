#include<iostream>
#include<stdio.h>
#include<algorithm>
using namespace std;

int len_a,len_b;
int a[10000],b[10000];
int s,x;

int calculate()
{
	int i,j;
	int num = 0;
	for(i = 0;i < len_a;i ++)
	{
		for(j = 0;j < len_b;j ++)
		{
			if(a[i] + b[j] == s)
			{
				num ++;
			}
			if(a[i] + b[j] > s)
			break;
		}
	}
	return num;
}

int main()
{
	int times;
	int i,j;
	cin>>x;
	while(times--)
	{
		cin>>s;
		cin>>len_a;
		for(i = 0;i < len_a;i ++)
		cin>>a[i];
		cin>>len_b;
		for(j = 0;j < len_b;j ++)
		cin>>b[j];
		sort(a,a+len_a);
		sort(b,b+len_b);
	    cout<<calculate();
	}
}

